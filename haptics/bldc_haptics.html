<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BLDC Haptics - ESP32 -  &mdash; ESPP main documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=851bd809" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d01aebe5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=ff8fa330"></script>
    <script src="../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'haptics/bldc_haptics';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-cpp';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32c3"]
        DOCUMENTATION_OPTIONS.RELEASE = 'main';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BLDC Haptics Example" href="bldc_haptics_example.html" />
    <link rel="prev" title="Haptics APIs" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ESPP
              <img src="../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../adc/index.html">ADC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_component.html">Base Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_peripheral.html">Base Peripheral</a></li>
<li class="toctree-l1"><a class="reference internal" href="../battery/index.html">Battery APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bldc/index.html">BLDC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble/index.html">BLE APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../button.html">Button APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../byte90.html">ALXV Labs Byte90</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller.html">Controller APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface (CLI) APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cobs.html">COBS (Consistent Overhead Byte Stuffing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../color.html">Color APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csv.html">CSV APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../display/index.html">Display APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distance_sensors/index.html">Distance Sensor APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../encoder/index.html">Encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32_timer_cam.html">ESP32 TimerCam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp_box.html">ESP BOX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_manager.html">Event Manager APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../file_system.html">File System APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filters/index.html">Filter APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ftp/index.html">FTP APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Haptics APIs</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">BLDC Haptics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html">BLDC Haptics Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#header-file">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="drv2605.html">DRV2605 Haptic Motor Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">HID APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c.html">I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imu/index.html">IMU APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interrupt.html">Interrupt APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">Input APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io_expander/index.html">IO Expander APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iperf_menu.html">Iperf Menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../joystick.html">Joystick APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led.html">LED APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led_driver/index.html">LED Driver Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led_strip.html">LED Strip APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logger.html">Logging APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m5stack_tab5.html">M5Stack Tab5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/index.html">Math APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matouch_rotary_display.html">MaTouch Rotary Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitor.html">Monitoring APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../motorgo_mini.html">MotorGo Mini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../neopixel.html">Neopixel APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/index.html">Network APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nfc/index.html">NFC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nvs.html">NVS APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../odrive_ascii.html">ODrive ASCII Protocol Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pid.html">PID APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Monitoring APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qtpy.html">QtPy ESP32 Pico and QtPy ESP32-S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qwiicnes.html">QwiicNES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote_debug.html">Remote Debug APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rmt.html">Remote Control Transceiver (RMT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rtc/index.html">RTC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rtsp.html">RTSP APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runqueue.html">RunQueue APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seeed_studio_round_display.html">Seeed Studio Round Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serialization.html">Serialization APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../state_machine.html">State Machine APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../t_deck.html">LilyGo T-Deck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../t_dongle_s3.html">LilyGo T-Dongle S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tabulate.html">Tabulate APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task.html">Task APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thermistor.html">Thermistor APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer.html">Timer APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wifi/index.html">WiFi APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wrover_kit.html">ESP32-WROVER-KIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_geek.html">Waveshare ESP32-S3 GEEK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_lcd_1_47.html">Waveshare ESP32-S3 LCD 1.47”</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_touch.html">Waveshare ESP32-S3 TouchLCD</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESPP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Haptics APIs</a></li>
      <li class="breadcrumb-item active">BLDC Haptics</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/esp-cpp/espp/blob/32e8215e/docs/en/haptics/bldc_haptics.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bldc-haptics">
<h1>BLDC Haptics<a class="headerlink" href="#bldc-haptics" title="Permalink to this heading"></a></h1>
<p>The <cite>BldcHaptics</cite> class is a high-level interface for controlling a BLDC motor
with a haptic feedback loop. It is designed to be used to provide haptic
feedback as part of a rotary input device (the BLDC motor). The component
provides a <cite>DetentConfig</cite> interface for configuring the input / haptic feedback
profile for the motor dynamically with configuration of:</p>
<blockquote>
<div><ul class="simple">
<li><p>Range of motion (min/max position + width of each position)</p></li>
<li><p>Width of each position in the range (which will be used to calculate the
actual range of motion based on the number of positions)</p></li>
<li><p>Strength of the haptic feedback at each position (detent)</p></li>
<li><p>Strength of the haptic feedback at the edges of the range of motion</p></li>
<li><p>Specific positions to provide haptic feedback at (detents)</p></li>
<li><p>Snap point (percentage of position width which will trigger a snap to the
nearest position)</p></li>
</ul>
</div></blockquote>
<p>The component also provides a <cite>HapticConfig</cite> interface for configuring the
haptic feedback loop with configuration of:</p>
<blockquote>
<div><ul class="simple">
<li><p>Strength of the haptic feedback</p></li>
<li><p>Frequency of the haptic feedback [currently not implemented]</p></li>
<li><p>Duration of the haptic feedback [currently not implemented]</p></li>
</ul>
</div></blockquote>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="bldc_haptics_example.html">BLDC Haptics Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bldc_haptics_example.html#how-to-use-example">How to use example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#hardware-required">Hardware Required</a></li>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#build-and-flash">Build and Flash</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bldc_haptics_example.html#example-output">Example Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#coarse-values-strong-detents-best-with-sound">coarse values strong detents (best with sound)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#magnetic-detents-best-with-sound">magnetic detents (best with sound)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#on-off-strong-detents-best-with-sound">On / Off Strong Detents (best with sound)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bldc_haptics_example.html#multi-rev-no-detents">Multi-rev no detents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bldc_haptics_example.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="bldc_haptics_example.html#example-breakdown">Example Breakdown</a></li>
</ul>
</li>
</ul>
</div>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/32e8215e/components/bldc_haptics/include/detent_config.hpp">components/bldc_haptics/include/detent_config.hpp</a></p></li>
</ul>
</section>
<section id="id1">
<h3>Header File<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/32e8215e/components/bldc_haptics/include/haptic_config.hpp">components/bldc_haptics/include/haptic_config.hpp</a></p></li>
</ul>
</section>
<section id="id2">
<h3>Header File<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/32e8215e/components/bldc_haptics/include/bldc_haptics.hpp">components/bldc_haptics/include/bldc_haptics.hpp</a></p></li>
</ul>
</section>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I_12MotorConceptEN4espp11BldcHapticsE">
<span id="_CPPv3I_12MotorConceptEN4espp11BldcHapticsE"></span><span id="_CPPv2I_12MotorConceptEN4espp11BldcHapticsE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">MotorConcept</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">M</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1BldcHaptics"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BldcHaptics</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../base_component.html#_CPPv4N4espp13BaseComponentE" title="espp::BaseComponent"><span class="n"><span class="pre">BaseComponent</span></span></a><a class="headerlink" href="#_CPPv4I_12MotorConceptEN4espp11BldcHapticsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Class which creates haptic feedback for the user by vibrating the motor This class is based on the work at <a class="reference external" href="https://github.com/scottbez1/smartknob">https://github.com/scottbez1/smartknob</a> to use a small BLDC gimbal motor as a haptic feedback device. It does so by varying the control type, setpoints, and gains of the motor to create a vibration. The motor is driven using the ESP32’s MCPWM peripheral. The motor is driven in a closed loop using the encoder feedback. </p>
<p>
The haptics provided by this class enable configuration of:<ul class="simple">
<li><p>Positions (with non-magnetic detents) - evenly spaced across the allowed range of motion</p></li>
<li><p>Number of magnetic detents - where the</p></li>
<li><p>Width of the detents</p></li>
<li><p>Strength of the detents</p></li>
<li><p>Snap point (position at which the motor will snap to the next detent / position)</p></li>
<li><p>Bounds on the rotation of the motor - can be unbounded, bounded within a single revolution, or bounded within multiple revolutions</p></li>
</ul>
</p>
<p>The haptics provided by this class provide the following functionality:<ul class="simple">
<li><p>Positions: Evenly spaced positions across the allowed range of motion (specified by the min and max position) will have a detent.</p></li>
<li><p>Detents: Manually specified detents will be placed at the specified positions. The detents will have a specified width and strength.</p></li>
<li><p>End Stops: The motor will vibrate when it is at the min or max position. This is useful for providing feedback when the motor is at the end of its range of motion. The end stops are configured by specifying the strength of the end stops.</p></li>
<li><p>Snap point: The snap point is the position at which the motor will snap to the next detent / position. This is useful for providing feedback when the motor is at a certain position. The snap point is configured by specifying the snap point (percentage of the way through the detent) and the snap point bias (percentage of the way through the detent to bias the snap point).</p></li>
</ul>
</p>
<p>Some example configurations are provided as static constexpr in espp::detail. They are:<ul class="simple">
<li><p>UNBOUNDED_NO_DETENTS: No detents, no end stops, no snap point, no bounds</p></li>
<li><p>BOUNDED_NO_DETENTS: No detents, no end stops, no snap point, bounded within a single revolution</p></li>
<li><p>MULTI_REV_NO_DETENTS: No detents, no end stops, no snap point, bounded within multiple revolutions</p></li>
<li><p>COARSE_VALUES_STRONG_DETENTS: detents, end stops, snap point, bounded within a single revolution</p></li>
<li><p>FINE_VALUES_NO_DETENTS: No detents, end stops, snap point, bounded</p></li>
<li><p>FINE_VALUES_WITH_DETENTS: detents, end stops, snap point, bounded</p></li>
<li><p>RETURN_TO_CENTER_WITH_DETENTS: 3 detents, end stops, snap point, bounded within a single revolution</p></li>
<li><p>RETURN_TO_CENTER_WITH_DETENTS_AND_MULTIPLE_REVOLUTIONS: 3 detents, end stops, snap point, bounded within multiple revolutions</p></li>
</ul>
</p>
<p>Some haptic behaviors that can be implemented with this library are:<ul class="simple">
<li><p>Unbounded with no detents</p></li>
<li><p>Bounded with no detents</p></li>
<li><p>Multiple revolutions</p></li>
<li><p>On/off with strong detent</p></li>
<li><p>Return to center without detents</p></li>
<li><p>Return to center with detents</p></li>
<li><p>Fine values with no detents</p></li>
<li><p>Fine values with detents</p></li>
<li><p>Coarse values with strong detents</p></li>
<li><p>Coarse values with weak detents</p></li>
</ul>
</p>
<section id="classespp_1_1BldcHaptics_1bldc_haptics_ex1">
<h4>Example 1: Basic usage<a class="headerlink" href="#classespp_1_1BldcHaptics_1bldc_haptics_ex1" title="Permalink to this heading"></a></h4>
<div class="highlight-cpp notranslate" id="classespp_1_1BldcHaptics_1bldc_haptics_ex1"><div class="highlight"><pre><span></span><span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">BldcHaptics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">BldcHaptics</span><span class="o">&lt;</span><span class="n">BldcMotor</span><span class="o">&gt;</span><span class="p">;</span>

<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">haptic_motor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BldcHaptics</span><span class="p">({.</span><span class="n">motor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">motor</span><span class="p">,</span>
<span class="w">                                     </span><span class="p">.</span><span class="n">kp_factor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">                                     </span><span class="p">.</span><span class="n">kd_factor_min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span>
<span class="w">                                     </span><span class="p">.</span><span class="n">kd_factor_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.04</span><span class="p">,</span>
<span class="w">                                     </span><span class="p">.</span><span class="n">log_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">INFO</span><span class="p">});</span>

<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::UNBOUNDED_NO_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::BOUNDED_NO_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::MULTI_REV_NO_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::ON_OFF_STRONG_DETENTS;</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">detent_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">COARSE_VALUES_STRONG_DETENTS</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::FINE_VALUES_NO_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::FINE_VALUES_WITH_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::MAGNETIC_DETENTS;</span>
<span class="w">    </span><span class="c1">// auto detent_config = espp::detail::RETURN_TO_CENTER_WITH_DETENTS;</span>

<span class="w">    </span><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;{}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">detent_config</span><span class="p">);</span>

<span class="w">    </span><span class="n">haptic_motor</span><span class="p">.</span><span class="n">update_detent_config</span><span class="p">(</span><span class="n">detent_config</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// this will start the haptic motor thread which will run in the background.</span>
<span class="w">    </span><span class="c1">// If we want to change the detent config we can call update_detent_config()</span>
<span class="w">    </span><span class="c1">// and it will update the detent config in the background thread.</span>
<span class="w">    </span><span class="n">haptic_motor</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="classespp_1_1BldcHaptics_1bldc_haptics_ex2">
<h4>Example 2: Playing a haptic click / buzz<a class="headerlink" href="#classespp_1_1BldcHaptics_1bldc_haptics_ex2" title="Permalink to this heading"></a></h4>
<div class="highlight-cpp notranslate" id="classespp_1_1BldcHaptics_1bldc_haptics_ex2"><div class="highlight"><pre><span></span><span class="w">      </span><span class="n">haptic_motor</span><span class="p">.</span><span class="n">play_haptic</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">HapticConfig</span><span class="p">{</span>
<span class="w">          </span><span class="p">.</span><span class="n">strength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5.0f</span><span class="p">,</span>
<span class="w">          </span><span class="p">.</span><span class="n">frequency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">200.0f</span><span class="p">,</span><span class="w"> </span><span class="c1">// Hz, NOTE: frequency is unused for now</span>
<span class="w">          </span><span class="p">.</span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="w">       </span><span class="c1">// NOTE: duration is unused for now</span>
<span class="w">      </span><span class="p">});</span>
</pre></div>
</div>
</section>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The motor is configured to be driven in an open-loop mode, so that the PID contained in the motor controller does not interfere with the haptic feedback.</p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics11BldcHapticsERK6Config">
<span id="_CPPv3N4espp11BldcHaptics11BldcHapticsERK6Config"></span><span id="_CPPv2N4espp11BldcHaptics11BldcHapticsERK6Config"></span><span id="espp::BldcHaptics::BldcHaptics__ConfigCR"></span><span class="target" id="classespp_1_1BldcHaptics_1a764960fd158f9f5eabddfd3c4d8ecbd4"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BldcHaptics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp11BldcHaptics6ConfigE" title="espp::BldcHaptics::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics11BldcHapticsERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Constructor for the haptic motor. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Configuration for the haptic motor </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHapticsD0Ev">
<span id="_CPPv3N4espp11BldcHapticsD0Ev"></span><span id="_CPPv2N4espp11BldcHapticsD0Ev"></span><span id="espp::BldcHaptics::~BldcHaptics"></span><span class="target" id="classespp_1_1BldcHaptics_1a25533de30e53313d80457d599937e9fd"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~BldcHaptics</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHapticsD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Destructor for the haptic motor. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will stop the motor if it is running </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp11BldcHaptics10is_runningEv">
<span id="_CPPv3NK4espp11BldcHaptics10is_runningEv"></span><span id="_CPPv2NK4espp11BldcHaptics10is_runningEv"></span><span id="espp::BldcHaptics::is_runningC"></span><span class="target" id="classespp_1_1BldcHaptics_1af6e00881aabb30b71edddc802ae94c33"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_running</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp11BldcHaptics10is_runningEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Check if the haptic motor is running. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the haptic motor is running, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics5startEv">
<span id="_CPPv3N4espp11BldcHaptics5startEv"></span><span id="_CPPv2N4espp11BldcHaptics5startEv"></span><span id="espp::BldcHaptics::start"></span><span class="target" id="classespp_1_1BldcHaptics_1a8200d676e0665051b7b571c5cadfd186"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics5startEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start the haptic motor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics4stopEv">
<span id="_CPPv3N4espp11BldcHaptics4stopEv"></span><span id="_CPPv2N4espp11BldcHaptics4stopEv"></span><span id="espp::BldcHaptics::stop"></span><span class="target" id="classespp_1_1BldcHaptics_1a358f1cd4dfc2670df1b02f66a43d2489"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stop</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics4stopEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop the haptic motor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp11BldcHaptics12get_positionEv">
<span id="_CPPv3NK4espp11BldcHaptics12get_positionEv"></span><span id="_CPPv2NK4espp11BldcHaptics12get_positionEv"></span><span id="espp::BldcHaptics::get_positionC"></span><span class="target" id="classespp_1_1BldcHaptics_1a4fc36ceb1405a37b6c478a55ccca1441"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_position</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp11BldcHaptics12get_positionEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the current position of the haptic motor. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Current position of the haptic motor </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics12set_positionEKi">
<span id="_CPPv3N4espp11BldcHaptics12set_positionEKi"></span><span id="_CPPv2N4espp11BldcHaptics12set_positionEKi"></span><span id="espp::BldcHaptics::set_position__iC"></span><span class="target" id="classespp_1_1BldcHaptics_1a8d503d04e751efd9a69073216f9b1edd"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_position</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">position</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics12set_positionEKi" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the current position of the haptic motor to within the bounds of the current detent config. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> – Position to set the haptics to </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics20update_detent_configERKN6detail12DetentConfigE">
<span id="_CPPv3N4espp11BldcHaptics20update_detent_configERKN6detail12DetentConfigE"></span><span id="_CPPv2N4espp11BldcHaptics20update_detent_configERKN6detail12DetentConfigE"></span><span id="espp::BldcHaptics::update_detent_config__detail::DetentConfigCR"></span><span class="target" id="classespp_1_1BldcHaptics_1a491109e2d225c47d05bd6752f922d556"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_detent_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">DetentConfig</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics20update_detent_configERKN6detail12DetentConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure the detents for the haptic motor. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Detent config </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics11play_hapticERKN6detail12HapticConfigE">
<span id="_CPPv3N4espp11BldcHaptics11play_hapticERKN6detail12HapticConfigE"></span><span id="_CPPv2N4espp11BldcHaptics11play_hapticERKN6detail12HapticConfigE"></span><span id="espp::BldcHaptics::play_haptic__detail::HapticConfigCR"></span><span class="target" id="classespp_1_1BldcHaptics_1afef43edfa411d9b3b7892e385a5dc294"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">play_haptic</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">detail</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">HapticConfig</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics11play_hapticERKN6detail12HapticConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Play haptic feedback. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Plays a somewhat-configurable haptic “buzz” / “click” for the user </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a blocking call that will wait for the haptic feedback to finish before returning. It will also block the motor/detent task from running until the haptic feedback is finished. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Configuration for the haptic feedback </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp11BldcHaptics8get_nameEv">
<span id="_CPPv3NK4espp11BldcHaptics8get_nameEv"></span><span id="_CPPv2NK4espp11BldcHaptics8get_nameEv"></span><span id="espp::BldcHaptics::get_nameC"></span><span class="target" id="classespp_1_1BaseComponent_1ad3813fa0c9c026e217163c4e2fdfc4a2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">get_name</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp11BldcHaptics8get_nameEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the name of the component </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the tag of the logger </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A const reference to the name of the component </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics11set_log_tagERKNSt11string_viewE">
<span id="_CPPv3N4espp11BldcHaptics11set_log_tagERKNSt11string_viewE"></span><span id="_CPPv2N4espp11BldcHaptics11set_log_tagERKNSt11string_viewE"></span><span id="espp::BldcHaptics::set_log_tag__std::string_viewCR"></span><span class="target" id="classespp_1_1BaseComponent_1af83083445936081581ffbddd93634b90"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_tag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">tag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics11set_log_tagERKNSt11string_viewE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the tag for the logger </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tag</strong> – The tag to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp11BldcHaptics13get_log_levelEv">
<span id="_CPPv3NK4espp11BldcHaptics13get_log_levelEv"></span><span id="_CPPv2NK4espp11BldcHaptics13get_log_levelEv"></span><span id="espp::BldcHaptics::get_log_levelC"></span><span class="target" id="classespp_1_1BaseComponent_1a54f34a70b117486a7055e4a6f1d4d7a8"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_log_level</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp11BldcHaptics13get_log_levelEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the log level for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The verbosity level of the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics13set_log_levelEN4espp6Logger9VerbosityE">
<span id="_CPPv3N4espp11BldcHaptics13set_log_levelEN4espp6Logger9VerbosityE"></span><span id="_CPPv2N4espp11BldcHaptics13set_log_levelEN4espp6Logger9VerbosityE"></span><span id="espp::BldcHaptics::set_log_level__espp::Logger::Verbosity"></span><span class="target" id="classespp_1_1BaseComponent_1a3159df4e466f93ebb6cca7e685d27243"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_level</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics13set_log_levelEN4espp6Logger9VerbosityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the log level for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> – The verbosity level to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics17set_log_verbosityEN4espp6Logger9VerbosityE">
<span id="_CPPv3N4espp11BldcHaptics17set_log_verbosityEN4espp6Logger9VerbosityE"></span><span id="_CPPv2N4espp11BldcHaptics17set_log_verbosityEN4espp6Logger9VerbosityE"></span><span id="espp::BldcHaptics::set_log_verbosity__espp::Logger::Verbosity"></span><span class="target" id="classespp_1_1BaseComponent_1abb459bcd55b41471e201475fbf1a1b1f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_verbosity</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics17set_log_verbosityEN4espp6Logger9VerbosityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the log verbosity for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../ws_s3_touch.html#classespp_1_1BaseComponent_1a3159df4e466f93ebb6cca7e685d27243"><span class="std std-ref">set_log_level</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience method that calls set_log_level </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> – The verbosity level to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp11BldcHaptics17get_log_verbosityEv">
<span id="_CPPv3NK4espp11BldcHaptics17get_log_verbosityEv"></span><span id="_CPPv2NK4espp11BldcHaptics17get_log_verbosityEv"></span><span id="espp::BldcHaptics::get_log_verbosityC"></span><span class="target" id="classespp_1_1BaseComponent_1ac9cda1ea5d5321040ca13a827057ff79"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_log_verbosity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp11BldcHaptics17get_log_verbosityEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the log verbosity for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../ws_s3_touch.html#classespp_1_1BaseComponent_1a54f34a70b117486a7055e4a6f1d4d7a8"><span class="std std-ref">get_log_level</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1a6ed0028b750b3e4aae21d2ecb3670c55"><span class="std std-ref">Logger::get_verbosity</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience method that calls get_log_level </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The verbosity level of the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics18set_log_rate_limitENSt6chrono8durationIfEE">
<span id="_CPPv3N4espp11BldcHaptics18set_log_rate_limitENSt6chrono8durationIfEE"></span><span id="_CPPv2N4espp11BldcHaptics18set_log_rate_limitENSt6chrono8durationIfEE"></span><span id="espp::BldcHaptics::set_log_rate_limit__std::chrono::duration:float:"></span><span class="target" id="classespp_1_1BaseComponent_1a8b95d7a8a87f22a989f3654a238774a0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_rate_limit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rate_limit</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics18set_log_rate_limitENSt6chrono8durationIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the rate limit for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1a9ce0c51e1bf43e63235c6ddf3280b15d"><span class="std std-ref">Logger::set_rate_limit</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only calls to the logger that have _rate_limit suffix will be rate limited </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rate_limit</strong> – The rate limit to use for the logger </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6ConfigE">
<span id="_CPPv3N4espp11BldcHaptics6ConfigE"></span><span id="_CPPv2N4espp11BldcHaptics6ConfigE"></span><span id="espp::BldcHaptics::Config"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configuration for the haptic motor. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6Config5motorE">
<span id="_CPPv3N4espp11BldcHaptics6Config5motorE"></span><span id="_CPPv2N4espp11BldcHaptics6Config5motorE"></span><span id="espp::BldcHaptics::Config::motor__std::shared_ptr:M:"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config_1a952283a7e269445fd3bd16a9cc876b71"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I_12MotorConceptEN4espp11BldcHapticsE" title="espp::BldcHaptics::M"><span class="n"><span class="pre">M</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">motor</span></span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6Config5motorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pointer to the motor to use for haptics. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6Config9kp_factorE">
<span id="_CPPv3N4espp11BldcHaptics6Config9kp_factorE"></span><span id="_CPPv2N4espp11BldcHaptics6Config9kp_factorE"></span><span id="espp::BldcHaptics::Config::kp_factor__float"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config_1ac174d02e686d87a9a610d20a057c9538"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kp_factor</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">2</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6Config9kp_factorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Factor to multiply the detent strength by to get kp (default 2). Used for both detents and end stops. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the motor, this may need to be adjusted to get the desired behavior. </p>
</div>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6Config13kd_factor_minE">
<span id="_CPPv3N4espp11BldcHaptics6Config13kd_factor_minE"></span><span id="_CPPv2N4espp11BldcHaptics6Config13kd_factor_minE"></span><span id="espp::BldcHaptics::Config::kd_factor_min__float"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config_1a41219d38082e2a4beaf876c36046a2f6"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kd_factor_min</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0.01</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6Config13kd_factor_minE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Min Factor to multiply the detent strength by to get kd (default 0.01). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the motor, this may need to be adjusted to get the desired behavior. </p>
</div>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6Config13kd_factor_maxE">
<span id="_CPPv3N4espp11BldcHaptics6Config13kd_factor_maxE"></span><span id="_CPPv2N4espp11BldcHaptics6Config13kd_factor_maxE"></span><span id="espp::BldcHaptics::Config::kd_factor_max__float"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config_1ad78fa3e69b2f5de17f48ab5dfbf321fb"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kd_factor_max</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0.04</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6Config13kd_factor_maxE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Max Factor to multiply the detent strength by to get kd (default 0.04). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the motor, this may need to be adjusted to get the desired behavior. </p>
</div>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11BldcHaptics6Config9log_levelE">
<span id="_CPPv3N4espp11BldcHaptics6Config9log_levelE"></span><span id="_CPPv2N4espp11BldcHaptics6Config9log_levelE"></span><span id="espp::BldcHaptics::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1BldcHaptics_1_1Config_1ac089e4242d5768c72ae40aaec4b592ec"></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><a class="headerlink" href="#_CPPv4N4espp11BldcHaptics6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Log level to use for the haptics. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Haptics APIs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bldc_haptics_example.html" class="btn btn-neutral float-right" title="BLDC Haptics Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 - 2026, William Emfinger.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>