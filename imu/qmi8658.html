<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QMI8658 6-Axis IMU - ESP32 -  &mdash; ESPP main documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=a60756f2" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=949a1ff5" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=851bd809" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d01aebe5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=ff8fa330"></script>
    <script src="../_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'imu/qmi8658';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-cpp';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32c3"]
        DOCUMENTATION_OPTIONS.RELEASE = 'main';
        DOCUMENTATION_OPTIONS.LANGUAGE_URL = 'en';

    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="QMI8658 Example" href="qmi8658_example.html" />
    <link rel="prev" title="LSM6DSO Example" href="lsm6dso_example.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ESPP
              <img src="../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../adc/index.html">ADC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_component.html">Base Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base_peripheral.html">Base Peripheral</a></li>
<li class="toctree-l1"><a class="reference internal" href="../battery/index.html">Battery APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bldc/index.html">BLDC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble/index.html">BLE APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../button.html">Button APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../byte90.html">ALXV Labs Byte90</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controller.html">Controller APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface (CLI) APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cobs.html">COBS (Consistent Overhead Byte Stuffing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../color.html">Color APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csv.html">CSV APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../display/index.html">Display APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distance_sensors/index.html">Distance Sensor APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../encoder/index.html">Encoder APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32_timer_cam.html">ESP32 TimerCam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp_box.html">ESP BOX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../event_manager.html">Event Manager APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../file_system.html">File System APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filters/index.html">Filter APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ftp/index.html">FTP APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haptics/index.html">Haptics APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">HID APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c.html">I2C</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">IMU APIs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adxl345.html">ADXL345 3-Axis Accelerometer</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmi270.html">BMI270 6-Axis IMU</a></li>
<li class="toctree-l2"><a class="reference internal" href="icm20948.html">ICM20948 9-Axis IMU</a></li>
<li class="toctree-l2"><a class="reference internal" href="icm42607.html">ICM42607 6-Axis IMU</a></li>
<li class="toctree-l2"><a class="reference internal" href="lsm6dso.html">LSM6DSO 6-Axis IMU</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">QMI8658 6-Axis IMU</a><ul>
<li class="toctree-l3"><a class="reference internal" href="qmi8658_example.html">QMI8658 Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#header-file">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Header File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unions">Unions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interrupt.html">Interrupt APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">Input APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io_expander/index.html">IO Expander APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iperf_menu.html">Iperf Menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../joystick.html">Joystick APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led.html">LED APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led_driver/index.html">LED Driver Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../led_strip.html">LED Strip APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logger.html">Logging APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m5stack_tab5.html">M5Stack Tab5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/index.html">Math APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matouch_rotary_display.html">MaTouch Rotary Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitor.html">Monitoring APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../motorgo_mini.html">MotorGo Mini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../neopixel.html">Neopixel APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network/index.html">Network APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nfc/index.html">NFC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nvs.html">NVS APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../odrive_ascii.html">ODrive ASCII Protocol Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pid.html">PID APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Monitoring APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qtpy.html">QtPy ESP32 Pico and QtPy ESP32-S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qwiicnes.html">QwiicNES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../remote_debug.html">Remote Debug APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rmt.html">Remote Control Transceiver (RMT)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rtc/index.html">RTC APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rtsp.html">RTSP APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runqueue.html">RunQueue APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seeed_studio_round_display.html">Seeed Studio Round Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serialization.html">Serialization APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../state_machine.html">State Machine APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../t_deck.html">LilyGo T-Deck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../t_dongle_s3.html">LilyGo T-Dongle S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tabulate.html">Tabulate APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task.html">Task APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../thermistor.html">Thermistor APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timer.html">Timer APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wifi/index.html">WiFi APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wrover_kit.html">ESP32-WROVER-KIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_geek.html">Waveshare ESP32-S3 GEEK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_lcd_1_47.html">Waveshare ESP32-S3 LCD 1.47”</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ws_s3_touch.html">Waveshare ESP32-S3 TouchLCD</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESPP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">IMU APIs</a></li>
      <li class="breadcrumb-item active">QMI8658 6-Axis IMU</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/esp-cpp/espp/blob/32e8215e/docs/en/imu/qmi8658.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="qmi8658-6-axis-imu">
<h1>QMI8658 6-Axis IMU<a class="headerlink" href="#qmi8658-6-axis-imu" title="Permalink to this heading"></a></h1>
<p>The <cite>Qmi8658</cite> component provides a driver for the QMI8658 6-Axis
Inertial Measurement Units (IMUs).</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="qmi8658_example.html">QMI8658 Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="qmi8658_example.html#how-to-use-example">How to use example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="qmi8658_example.html#hardware-required">Hardware Required</a></li>
<li class="toctree-l3"><a class="reference internal" href="qmi8658_example.html#build-and-flash">Build and Flash</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="qmi8658_example.html#example-output">Example Output</a></li>
</ul>
</li>
</ul>
</div>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/32e8215e/components/qmi8658/include/qmi8658.hpp">components/qmi8658/include/qmi8658.hpp</a></p></li>
</ul>
</section>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I_N7qmi86589InterfaceEEN4espp7Qmi8658E">
<span id="_CPPv3I_N7qmi86589InterfaceEEN4espp7Qmi8658E"></span><span id="_CPPv2I_N7qmi86589InterfaceEEN4espp7Qmi8658E"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Interface</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">I2C</span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1Qmi8658"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Qmi8658</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../base_peripheral.html#_CPPv4I_NSt8integralE_b_b_bEN4espp14BasePeripheralE" title="espp::BasePeripheral"><span class="n"><span class="pre">BasePeripheral</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">I2C</span></span><span class="w"> </span><span class="o"><span class="pre">==</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">I2C</span></span><span class="p"><span class="pre">&gt;</span></span><a class="headerlink" href="#_CPPv4I_N7qmi86589InterfaceEEN4espp7Qmi8658E" title="Permalink to this definition"></a><br /></dt>
<dd><p>Class for the QMI8658 6-axis motion sensor. </p>
<p>
The QMI8658 has a 3-axis gyroscope and a 3-axis accelerometer. The QMI8658 has a 16-bit ADC for the gyroscope and a 16-bit ADC for the accelerometer. The gyroscope has a full-scale range of up to ±4096°/s and the accelerometer has a full-scale range of up to ±16g.</p>
<p>The QMI8658 has a FIFO buffer that can store up to 2.25 kilobytes of data. The FIFO buffer can be configured to store gyroscope data, accelerometer data, or both. The FIFO buffer can be configured to store data in either FIFO mode or stream mode. In FIFO mode, the FIFO buffer stores data until the buffer is full, at which point the FIFO buffer stops storing data. In stream mode, the FIFO buffer stores data continuously, overwriting the oldest data when the buffer is full.</p>
<p>The QMI8658 has a built-in temperature sensor that can be used to measure the temperature of the QMI8658.</p>
<section id="classespp_1_1Qmi8658_1qmi8658_example">
<h4>Example<a class="headerlink" href="#classespp_1_1Qmi8658_1qmi8658_example" title="Permalink to this heading"></a></h4>
<div class="highlight-cpp notranslate" id="classespp_1_1Qmi8658_1qmi8658_example"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">Imu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Qmi8658</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">qmi8658</span><span class="o">::</span><span class="n">Interface</span><span class="o">::</span><span class="n">I2C</span><span class="o">&gt;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// make the i2c we&#39;ll use to communicate</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">i2c_port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">I2C_NUM_0</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">i2c_clock_speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_EXAMPLE_I2C_CLOCK_SPEED_HZ</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="n">gpio_num_t</span><span class="w"> </span><span class="n">i2c_sda</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="n">CONFIG_EXAMPLE_I2C_SDA_GPIO</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="n">gpio_num_t</span><span class="w"> </span><span class="n">i2c_scl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="n">CONFIG_EXAMPLE_I2C_SCL_GPIO</span><span class="p">;</span>
<span class="w">  </span><span class="n">espp</span><span class="o">::</span><span class="n">I2c</span><span class="w"> </span><span class="nf">i2c</span><span class="p">({.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i2c_port</span><span class="p">,</span>
<span class="w">                 </span><span class="p">.</span><span class="n">sda_io_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i2c_sda</span><span class="p">,</span>
<span class="w">                 </span><span class="p">.</span><span class="n">scl_io_num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i2c_scl</span><span class="p">,</span>
<span class="w">                 </span><span class="p">.</span><span class="n">sda_pullup_en</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_PULLUP_ENABLE</span><span class="p">,</span>
<span class="w">                 </span><span class="p">.</span><span class="n">scl_pullup_en</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GPIO_PULLUP_ENABLE</span><span class="p">,</span>
<span class="w">                 </span><span class="p">.</span><span class="n">clk_speed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i2c_clock_speed</span><span class="p">});</span>

<span class="w">  </span><span class="c1">// make the orientation filter to compute orientation from accel + gyro</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">angle_noise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.001f</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">rate_noise</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1f</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">KalmanFilter</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">kf</span><span class="p">;</span>
<span class="w">  </span><span class="n">kf</span><span class="p">.</span><span class="n">set_process_noise</span><span class="p">(</span><span class="n">rate_noise</span><span class="p">);</span>
<span class="w">  </span><span class="n">kf</span><span class="p">.</span><span class="n">set_measurement_noise</span><span class="p">(</span><span class="n">angle_noise</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">kalman_filter_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="kt">float</span><span class="w"> </span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="o">&amp;</span><span class="n">accel</span><span class="p">,</span>
<span class="w">                             </span><span class="k">const</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="o">&amp;</span><span class="n">gyro</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Apply Kalman filter</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">accelRoll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">atan2</span><span class="p">(</span><span class="n">accel</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">accelPitch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">atan2</span><span class="p">(</span><span class="o">-</span><span class="n">accel</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="n">accel</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">z</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
<span class="w">    </span><span class="n">kf</span><span class="p">.</span><span class="n">predict</span><span class="p">({</span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">gyro</span><span class="p">.</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">gyro</span><span class="p">.</span><span class="n">y</span><span class="p">)},</span><span class="w"> </span><span class="n">dt</span><span class="p">);</span>
<span class="w">    </span><span class="n">kf</span><span class="p">.</span><span class="n">update</span><span class="p">({</span><span class="n">accelRoll</span><span class="p">,</span><span class="w"> </span><span class="n">accelPitch</span><span class="p">});</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">roll</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">;</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">tie</span><span class="p">(</span><span class="n">roll</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kf</span><span class="p">.</span><span class="n">get_state</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// return the computed orientation</span>
<span class="w">    </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="n">orientation</span><span class="p">{};</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">roll</span><span class="p">;</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">pitch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pitch</span><span class="p">;</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">yaw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">orientation</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">beta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1f</span><span class="p">;</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">MadgwickFilter</span><span class="w"> </span><span class="nf">madgwick</span><span class="p">(</span><span class="n">beta</span><span class="p">);</span>
<span class="w">  </span><span class="k">auto</span><span class="w"> </span><span class="n">madgwick_filter_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="kt">float</span><span class="w"> </span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="o">&amp;</span><span class="n">accel</span><span class="p">,</span>
<span class="w">                               </span><span class="k">const</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="o">&amp;</span><span class="n">gyro</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Apply Madgwick filter</span>
<span class="w">    </span><span class="n">madgwick</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">accel</span><span class="p">.</span><span class="n">z</span><span class="p">,</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">gyro</span><span class="p">.</span><span class="n">x</span><span class="p">),</span>
<span class="w">                    </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">gyro</span><span class="p">.</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">gyro</span><span class="p">.</span><span class="n">z</span><span class="p">));</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">roll</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">,</span><span class="w"> </span><span class="n">yaw</span><span class="p">;</span>
<span class="w">    </span><span class="n">madgwick</span><span class="p">.</span><span class="n">get_euler</span><span class="p">(</span><span class="n">roll</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">,</span><span class="w"> </span><span class="n">yaw</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// return the computed orientation</span>
<span class="w">    </span><span class="n">Imu</span><span class="o">::</span><span class="n">Value</span><span class="w"> </span><span class="n">orientation</span><span class="p">{};</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">pitch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">pitch</span><span class="p">);</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">roll</span><span class="p">);</span>
<span class="w">    </span><span class="n">orientation</span><span class="p">.</span><span class="n">yaw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">deg_to_rad</span><span class="p">(</span><span class="n">yaw</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">orientation</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="c1">// make the IMU config</span>
<span class="w">  </span><span class="n">Imu</span><span class="o">::</span><span class="n">Config</span><span class="w"> </span><span class="n">config</span><span class="p">{</span>
<span class="w">      </span><span class="p">.</span><span class="n">device_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">DEFAULT_ADDRESS</span><span class="p">,</span>
<span class="w">      </span><span class="p">.</span><span class="n">write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">espp</span><span class="o">::</span><span class="n">I2c</span><span class="o">::</span><span class="n">write</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i2c</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">,</span>
<span class="w">                         </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">),</span>
<span class="w">      </span><span class="p">.</span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="o">&amp;</span><span class="n">espp</span><span class="o">::</span><span class="n">I2c</span><span class="o">::</span><span class="n">read</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i2c</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_1</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_2</span><span class="p">,</span>
<span class="w">                        </span><span class="n">std</span><span class="o">::</span><span class="n">placeholders</span><span class="o">::</span><span class="n">_3</span><span class="p">),</span>
<span class="w">      </span><span class="p">.</span><span class="n">imu_config</span><span class="w"> </span><span class="o">=</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">              </span><span class="p">.</span><span class="n">accelerometer_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">AccelerometerRange</span><span class="o">::</span><span class="n">RANGE_8G</span><span class="p">,</span>
<span class="w">              </span><span class="p">.</span><span class="n">accelerometer_odr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">ODR</span><span class="o">::</span><span class="n">ODR_250_HZ</span><span class="p">,</span>
<span class="w">              </span><span class="p">.</span><span class="n">gyroscope_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">GyroscopeRange</span><span class="o">::</span><span class="n">RANGE_512_DPS</span><span class="p">,</span>
<span class="w">              </span><span class="p">.</span><span class="n">gyroscope_odr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Imu</span><span class="o">::</span><span class="n">ODR</span><span class="o">::</span><span class="n">ODR_250_HZ</span><span class="p">,</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">      </span><span class="p">.</span><span class="n">orientation_filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kalman_filter_fn</span><span class="p">,</span>
<span class="w">      </span><span class="p">.</span><span class="n">auto_init</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="c1">// create the IMU</span>
<span class="w">  </span><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Creating IMU&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">Imu</span><span class="w"> </span><span class="nf">imu</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// make a task to read out the IMU data and print it to console</span>
<span class="w">  </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="w"> </span><span class="nf">imu_task</span><span class="p">({.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="w"> </span><span class="o">&amp;</span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">condition_variable</span><span class="w"> </span><span class="o">&amp;</span><span class="n">cv</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">{</span>
<span class="w">                         </span><span class="c1">// sleep first in case we don&#39;t get IMU data and need to exit early</span>
<span class="w">                         </span><span class="p">{</span>
<span class="w">                           </span><span class="n">std</span><span class="o">::</span><span class="n">unique_lock</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lock</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
<span class="w">                           </span><span class="n">cv</span><span class="p">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">lock</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="n">ms</span><span class="p">);</span>
<span class="w">                         </span><span class="p">}</span>

<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">esp_timer_get_time</span><span class="p">();</span><span class="w"> </span><span class="c1">// time in microseconds</span>
<span class="w">                         </span><span class="k">static</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">t0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">t1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">t0</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1&#39;000&#39;000.0f</span><span class="p">;</span><span class="w"> </span><span class="c1">// convert us to s</span>
<span class="w">                         </span><span class="n">t0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t1</span><span class="p">;</span>

<span class="w">                         </span><span class="n">std</span><span class="o">::</span><span class="n">error_code</span><span class="w"> </span><span class="n">ec</span><span class="p">;</span>
<span class="w">                         </span><span class="c1">// update the imu data</span>
<span class="w">                         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">imu</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="n">ec</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                           </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">                         </span><span class="p">}</span>

<span class="w">                         </span><span class="c1">// get accel</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">accel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="n">get_accelerometer</span><span class="p">();</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">gyro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="n">get_gyroscope</span><span class="p">();</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="n">get_temperature</span><span class="p">();</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">orientation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="n">get_orientation</span><span class="p">();</span>
<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">gravity_vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="n">get_gravity_vector</span><span class="p">();</span>

<span class="w">                         </span><span class="c1">// print time and raw IMU data</span>
<span class="w">                         </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">1&#39;000&#39;000.0f</span><span class="p">);</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:02.3f},{:02.3f},{:02.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">accel</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
<span class="w">                                             </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">accel</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">accel</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:03.3f},{:03.3f},{:03.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gyro</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
<span class="w">                                             </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gyro</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gyro</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:02.1f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">temp</span><span class="p">);</span>
<span class="w">                         </span><span class="c1">// print kalman filter outputs</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:03.3f},{:03.3f},{:03.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">orientation</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
<span class="w">                                             </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">orientation</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">orientation</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:03.3f},{:03.3f},{:03.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gravity_vector</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
<span class="w">                                             </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gravity_vector</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">gravity_vector</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>

<span class="w">                         </span><span class="k">auto</span><span class="w"> </span><span class="n">madgwick_orientation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">madgwick_filter_fn</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="n">accel</span><span class="p">,</span><span class="w"> </span><span class="n">gyro</span><span class="p">);</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">madgwick_orientation</span><span class="p">.</span><span class="n">roll</span><span class="p">;</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">pitch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">madgwick_orientation</span><span class="p">.</span><span class="n">pitch</span><span class="p">;</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">yaw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">madgwick_orientation</span><span class="p">.</span><span class="n">yaw</span><span class="p">;</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">vx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">pitch</span><span class="p">);</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">vy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">cos</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">roll</span><span class="p">);</span>
<span class="w">                         </span><span class="kt">float</span><span class="w"> </span><span class="n">vz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">cos</span><span class="p">(</span><span class="n">pitch</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">roll</span><span class="p">);</span>

<span class="w">                         </span><span class="c1">// print madgwick filter outputs</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:03.3f},{:03.3f},{:03.3f},&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">roll</span><span class="p">,</span><span class="w"> </span><span class="n">pitch</span><span class="p">,</span><span class="w"> </span><span class="n">yaw</span><span class="p">);</span>
<span class="w">                         </span><span class="n">text</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;{:03.3f},{:03.3f},{:03.3f}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">vx</span><span class="p">,</span><span class="w"> </span><span class="n">vy</span><span class="p">,</span><span class="w"> </span><span class="n">vz</span><span class="p">);</span>

<span class="w">                         </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;{}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>

<span class="w">                         </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">                       </span><span class="p">},</span>
<span class="w">                       </span><span class="p">.</span><span class="n">task_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">                           </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;IMU&quot;</span><span class="p">,</span>
<span class="w">                           </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span>
<span class="w">                           </span><span class="p">.</span><span class="n">priority</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">                           </span><span class="p">.</span><span class="n">core_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                       </span><span class="p">}});</span>

<span class="w">  </span><span class="c1">// print the header for the IMU data (for plotting)</span>
<span class="w">  </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;% Time (s), &quot;</span>
<span class="w">             </span><span class="c1">// raw IMU data (accel, gyro, temp)</span>
<span class="w">             </span><span class="s">&quot;Accel X (m/s^2), Accel Y (m/s^2), Accel Z (m/s^2), &quot;</span>
<span class="w">             </span><span class="s">&quot;Gyro X (rad/s), Gyro Y (rad/s), Gyro Z (rad/s), &quot;</span>
<span class="w">             </span><span class="s">&quot;Temp (C), &quot;</span>
<span class="w">             </span><span class="c1">// kalman filter outputs</span>
<span class="w">             </span><span class="s">&quot;Kalman Roll (rad), Kalman Pitch (rad), Kalman Yaw (rad), &quot;</span>
<span class="w">             </span><span class="s">&quot;Kalman Gravity X, Kalman Gravity Y, Kalman Gravity Z, &quot;</span>
<span class="w">             </span><span class="c1">// madgwick filter outputs</span>
<span class="w">             </span><span class="s">&quot;Madgwick Roll (rad), Madgwick Pitch (rad), Magwick Yaw (rad), &quot;</span>
<span class="w">             </span><span class="s">&quot;Madgwick Gravity X, Madgwick Gravity Y, Madgwick Gravity Z</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Starting IMU task&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="n">imu_task</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// loop forever</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
</section>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The QMI8658 is a 6-axis motion sensor that can be interfaced with either I2C or SPI.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Template Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Interface</strong> – The interface type of the QMI8658</p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86588FifoModeE">
<span id="_CPPv3N4espp7Qmi86588FifoModeE"></span><span id="_CPPv2N4espp7Qmi86588FifoModeE"></span><span class="target" id="classespp_1_1Qmi8658_1a66374cffcf01ad5ffd2103172fb58794"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FifoMode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">FifoMode</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86588FifoModeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>FIFO mode. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865818AccelerometerRangeE">
<span id="_CPPv3N4espp7Qmi865818AccelerometerRangeE"></span><span id="_CPPv2N4espp7Qmi865818AccelerometerRangeE"></span><span class="target" id="classespp_1_1Qmi8658_1ae216fbc73aafc7fade378a9214b8b820"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AccelerometerRange</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">AccelerometerRange</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865818AccelerometerRangeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Accelerometer range. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86583ODRE">
<span id="_CPPv3N4espp7Qmi86583ODRE"></span><span id="_CPPv2N4espp7Qmi86583ODRE"></span><span class="target" id="classespp_1_1Qmi8658_1a1fe82bf20b9cae54894508efb94d05a7"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ODR</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ODR</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86583ODRE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Output data rate. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865814GyroscopeRangeE">
<span id="_CPPv3N4espp7Qmi865814GyroscopeRangeE"></span><span id="_CPPv2N4espp7Qmi865814GyroscopeRangeE"></span><span class="target" id="classespp_1_1Qmi8658_1a6b86a640bf421dca49b1ccaf19000adb"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GyroscopeRange</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">GyroscopeRange</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865814GyroscopeRangeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Gyroscope range. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86589ImuConfigE">
<span id="_CPPv3N4espp7Qmi86589ImuConfigE"></span><span id="_CPPv2N4espp7Qmi86589ImuConfigE"></span><span class="target" id="classespp_1_1Qmi8658_1adb65e56b76af97715701ea8289a4d8d5"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ImuConfig</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ImuConfig</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86589ImuConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>IMU configuration. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86588RawValueE">
<span id="_CPPv3N4espp7Qmi86588RawValueE"></span><span id="_CPPv2N4espp7Qmi86588RawValueE"></span><span class="target" id="classespp_1_1Qmi8658_1adee76bfa9c6cd21061e59c5fdd99fe3a"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">RawValue</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">RawValue</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86588RawValueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Raw IMU data. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86585ValueE">
<span id="_CPPv3N4espp7Qmi86585ValueE"></span><span id="_CPPv2N4espp7Qmi86585ValueE"></span><span class="target" id="classespp_1_1Qmi8658_1a5fb7ac03268bf7c34eff04aff88758b2"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Value</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Value</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86585ValueE" title="Permalink to this definition"></a><br /></dt>
<dd><p>IMU data. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865818InterruptDriveModeE">
<span id="_CPPv3N4espp7Qmi865818InterruptDriveModeE"></span><span id="_CPPv2N4espp7Qmi865818InterruptDriveModeE"></span><span class="target" id="classespp_1_1Qmi8658_1ad79dd6ad1165525e7f1ce6c355c9adff"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">InterruptDriveMode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">InterruptDriveMode</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865818InterruptDriveModeE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="../interrupt.html#classespp_1_1Interrupt"><span class="std std-ref">Interrupt</span></a> drive mode. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865817InterruptPolarityE">
<span id="_CPPv3N4espp7Qmi865817InterruptPolarityE"></span><span id="_CPPv2N4espp7Qmi865817InterruptPolarityE"></span><span class="target" id="classespp_1_1Qmi8658_1ab87ace230596ee684f00fa90264383c1"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">InterruptPolarity</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">InterruptPolarity</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865817InterruptPolarityE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="../interrupt.html#classespp_1_1Interrupt"><span class="std std-ref">Interrupt</span></a> polarity. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865813InterruptModeE">
<span id="_CPPv3N4espp7Qmi865813InterruptModeE"></span><span id="_CPPv2N4espp7Qmi865813InterruptModeE"></span><span class="target" id="classespp_1_1Qmi8658_1a2d90ac50fc69f97a200505c7b5c12d56"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">InterruptMode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">InterruptMode</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865813InterruptModeE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="../interrupt.html#classespp_1_1Interrupt"><span class="std std-ref">Interrupt</span></a> mode. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865815InterruptConfigE">
<span id="_CPPv3N4espp7Qmi865815InterruptConfigE"></span><span id="_CPPv2N4espp7Qmi865815InterruptConfigE"></span><span class="target" id="classespp_1_1Qmi8658_1a08bf56ec3d959d88d50c7e4f1e284b7f"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">InterruptConfig</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">InterruptConfig</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865815InterruptConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="../interrupt.html#classespp_1_1Interrupt"><span class="std std-ref">Interrupt</span></a> configuration. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86589filter_fnE">
<span id="_CPPv3N4espp7Qmi86589filter_fnE"></span><span id="_CPPv2N4espp7Qmi86589filter_fnE"></span><span id="espp::Qmi8658::filter_fn"></span><span class="target" id="classespp_1_1Qmi8658_1ab3bc304661a2a2ae9b412009a318040f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">filter_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86589filter_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Filter function. </p>
<p>Filter function for filtering 6-axis data into 3-axis orientation data </p>
<dl class="field-list simple">
<dt class="field-odd">Param dt<span class="colon">:</span></dt>
<dd class="field-odd"><p>The time step in seconds </p>
</dd>
<dt class="field-even">Param accel<span class="colon">:</span></dt>
<dd class="field-even"><p>The accelerometer data </p>
</dd>
<dt class="field-odd">Param gyro<span class="colon">:</span></dt>
<dd class="field-odd"><p>The gyroscope data </p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>The filtered orientation data in radians </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86588probe_fnE">
<span id="_CPPv3N4espp7Qmi86588probe_fnE"></span><span id="_CPPv2N4espp7Qmi86588probe_fnE"></span><span id="espp::Qmi8658::probe_fn"></span><span class="target" id="classespp_1_1BasePeripheral_1ad12a713efc443157b7d6fd1ba4fdf88f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">bool</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">probe_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86588probe_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Function to probe the peripheral </p>
<dl class="field-list simple">
<dt class="field-odd">Param address<span class="colon">:</span></dt>
<dd class="field-odd"><p>The address to probe </p>
</dd>
<dt class="field-even">Return<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the peripheral is found at the given address </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86587Qmi8658ERK6Config">
<span id="_CPPv3N4espp7Qmi86587Qmi8658ERK6Config"></span><span id="_CPPv2N4espp7Qmi86587Qmi8658ERK6Config"></span><span id="espp::Qmi8658::Qmi8658__ConfigCR"></span><span class="target" id="classespp_1_1Qmi8658_1a215c71a6b9a8a8438aa67ebde9679d14"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Qmi8658</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86586ConfigE" title="espp::Qmi8658::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86587Qmi8658ERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Constructor </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – The configuration </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86584initERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi86584initERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi86584initERNSt10error_codeE"></span><span id="espp::Qmi8658::init__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a6fef606d25d98bad8c0ebb8e2abaff76"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">init</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86584initERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the QMI8658 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the QMI8658 was initialized successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86585resetERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi86585resetERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi86585resetERNSt10error_codeE"></span><span id="espp::Qmi8658::reset__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a2a81c9d3eb583a9d5ba32ac32511d71c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reset</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86585resetERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Reset the device </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the device was reset successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865813get_device_idERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865813get_device_idERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865813get_device_idERNSt10error_codeE"></span><span id="espp::Qmi8658::get_device_id__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a1d7390521113a6fa08862be91a6b1f74"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_device_id</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865813get_device_idERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the device ID </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The device ID </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865810set_configERK9ImuConfigRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865810set_configERK9ImuConfigRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865810set_configERK9ImuConfigRNSt10error_codeE"></span><span id="espp::Qmi8658::set_config__ImuConfigCR.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a088d2a64fc2467cd8953ca7d4c2008c0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86589ImuConfigE" title="espp::Qmi8658::ImuConfig"><span class="n"><span class="pre">ImuConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">imu_config</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865810set_configERK9ImuConfigRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the IMU configuration </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>imu_config</strong> – The IMU configuration </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the configuration was set successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865810get_configEv">
<span id="_CPPv3NK4espp7Qmi865810get_configEv"></span><span id="_CPPv2NK4espp7Qmi865810get_configEv"></span><span id="espp::Qmi8658::get_configC"></span><span class="target" id="classespp_1_1Qmi8658_1ab2e00bbc25124dd1b3afd20496d00d9a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86589ImuConfigE" title="espp::Qmi8658::ImuConfig"><span class="n"><span class="pre">ImuConfig</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_config</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865810get_configEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the IMU configuration </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The IMU configuration </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865825set_accelerometer_enabledEbRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865825set_accelerometer_enabledEbRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865825set_accelerometer_enabledEbRNSt10error_codeE"></span><span id="espp::Qmi8658::set_accelerometer_enabled__b.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1ad307692d2c9ccaf3d8d000c346699e5d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_accelerometer_enabled</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enabled</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865825set_accelerometer_enabledEbRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the Accelerometer enabled state </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> – True to enable, false to disable </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the enabled state was set successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865821set_gyroscope_enabledEbRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865821set_gyroscope_enabledEbRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865821set_gyroscope_enabledEbRNSt10error_codeE"></span><span id="espp::Qmi8658::set_gyroscope_enabled__b.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1aca0f87e862cfadd4efa60ac49299b614"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_gyroscope_enabled</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enabled</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865821set_gyroscope_enabledEbRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the Gyroscope enabled state </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> – True to enable, false to disable </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the enabled state was set successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865829get_accelerometer_sensitivityEv">
<span id="_CPPv3N4espp7Qmi865829get_accelerometer_sensitivityEv"></span><span id="_CPPv2N4espp7Qmi865829get_accelerometer_sensitivityEv"></span><span id="espp::Qmi8658::get_accelerometer_sensitivity"></span><span class="target" id="classespp_1_1Qmi8658_1a1b3298c57bddf0974c64ec008803720a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_accelerometer_sensitivity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865829get_accelerometer_sensitivityEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the accelerometer sensitivity from memory </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The accelerometer sensitivity in g/LSB </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865830read_accelerometer_sensitivityERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865830read_accelerometer_sensitivityERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865830read_accelerometer_sensitivityERNSt10error_codeE"></span><span id="espp::Qmi8658::read_accelerometer_sensitivity__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a8b031cc68cdfbe3480eecf289e731eba"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_accelerometer_sensitivity</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865830read_accelerometer_sensitivityERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the accelerometer sensitivity </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The accelerometer sensitivity in g/LSB </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865825get_gyroscope_sensitivityEv">
<span id="_CPPv3N4espp7Qmi865825get_gyroscope_sensitivityEv"></span><span id="_CPPv2N4espp7Qmi865825get_gyroscope_sensitivityEv"></span><span id="espp::Qmi8658::get_gyroscope_sensitivity"></span><span class="target" id="classespp_1_1Qmi8658_1a6867190b4422628ebdbb6140ba85ba38"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_gyroscope_sensitivity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865825get_gyroscope_sensitivityEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the gyroscope sensitivity from memory </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The gyroscope sensitivity in °/s/LSB </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865826read_gyroscope_sensitivityERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865826read_gyroscope_sensitivityERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865826read_gyroscope_sensitivityERNSt10error_codeE"></span><span id="espp::Qmi8658::read_gyroscope_sensitivity__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1abb03915b66ce002826d7830b07067df9"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_gyroscope_sensitivity</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865826read_gyroscope_sensitivityERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the gyroscope sensitivity </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The gyroscope sensitivity in °/s/LSB </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586updateEfRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi86586updateEfRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi86586updateEfRNSt10error_codeE"></span><span id="espp::Qmi8658::update__float.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1afd0c27acf3112b6b8c52bb497917634f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">dt</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586updateEfRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Update the accelerometer and gyroscope, and read the temperature </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values can be retrieved with get_accelerometer_values and get_gyroscope_values, and the temperature can be retrieved with get_temperature </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> – The time step in seconds </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the values were updated successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865817get_accelerometerEv">
<span id="_CPPv3NK4espp7Qmi865817get_accelerometerEv"></span><span id="_CPPv2NK4espp7Qmi865817get_accelerometerEv"></span><span id="espp::Qmi8658::get_accelerometerC"></span><span class="target" id="classespp_1_1Qmi8658_1a864b8a2d9792ca5641410eba898c7231"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_accelerometer</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865817get_accelerometerEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the accelerometer values </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values are in g and are updated when read_accelerometer is called or update_values is called </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The accelerometer values </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865818read_accelerometerERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865818read_accelerometerERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865818read_accelerometerERNSt10error_codeE"></span><span id="espp::Qmi8658::read_accelerometer__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a1ed19826969fa18568fdd07b94e28a72"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_accelerometer</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865818read_accelerometerERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the accelerometer data </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The accelerometer data </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865813get_gyroscopeEv">
<span id="_CPPv3NK4espp7Qmi865813get_gyroscopeEv"></span><span id="_CPPv2NK4espp7Qmi865813get_gyroscopeEv"></span><span id="espp::Qmi8658::get_gyroscopeC"></span><span class="target" id="classespp_1_1Qmi8658_1a2c1a0ce9237f09d25df1079374bafc89"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_gyroscope</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865813get_gyroscopeEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the gyroscope values </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values are in °/s and are updated when read_gyroscope is called or update_values is called </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The gyroscope values </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865814read_gyroscopeERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865814read_gyroscopeERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865814read_gyroscopeERNSt10error_codeE"></span><span id="espp::Qmi8658::read_gyroscope__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1aec6affc7034e793e3a8cb51f088018ca"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_gyroscope</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865814read_gyroscopeERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the gyroscope data </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The gyroscope data </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865815get_temperatureEv">
<span id="_CPPv3NK4espp7Qmi865815get_temperatureEv"></span><span id="_CPPv2NK4espp7Qmi865815get_temperatureEv"></span><span id="espp::Qmi8658::get_temperatureC"></span><span class="target" id="classespp_1_1Qmi8658_1a004494323a76be30c3f74a637bdfa0a7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_temperature</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865815get_temperatureEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the temperature </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The temperature is updated when read_temperature is called or update_values is called </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The temperature in °C </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865816read_temperatureERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865816read_temperatureERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865816read_temperatureERNSt10error_codeE"></span><span id="espp::Qmi8658::read_temperature__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a5843b4d1c65aa1ad7c7bb4bca143923d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_temperature</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865816read_temperatureERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read the temperature </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The temperature in °C </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865815get_orientationEv">
<span id="_CPPv3NK4espp7Qmi865815get_orientationEv"></span><span id="_CPPv2NK4espp7Qmi865815get_orientationEv"></span><span id="espp::Qmi8658::get_orientationC"></span><span class="target" id="classespp_1_1Qmi8658_1af61b832c8daab6854668a5ee4f7bc530"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_orientation</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865815get_orientationEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the most recently calculated orientation, if any. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The orientation is updated when update_values is called </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The orientation is calculated using the orientation filter function. If no filter function is set, the orientation will not be updated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The orientation angles in radians - pitch, roll, yaw </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865818get_gravity_vectorEv">
<span id="_CPPv3NK4espp7Qmi865818get_gravity_vectorEv"></span><span id="_CPPv2NK4espp7Qmi865818get_gravity_vectorEv"></span><span id="espp::Qmi8658::get_gravity_vectorC"></span><span class="target" id="classespp_1_1Qmi8658_1a5eaadb649b06823e849492d50e1a437f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86585ValueE" title="espp::Qmi8658::Value"><span class="n"><span class="pre">Value</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_gravity_vector</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865818get_gravity_vectorEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the most recently calculated gravity vector, if any. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The gravity vector is updated when update_values is called </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The gravity vector is calculated using the orientation filter function. If no filter function is set, the gravity vector will not be calculated. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The gravity vector </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865821configure_interrupt_1ERK15InterruptConfigRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865821configure_interrupt_1ERK15InterruptConfigRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865821configure_interrupt_1ERK15InterruptConfigRNSt10error_codeE"></span><span id="espp::Qmi8658::configure_interrupt_1__InterruptConfigCR.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a83d123c3682396bde8ab5b5d6869fd77"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configure_interrupt_1</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi865815InterruptConfigE" title="espp::Qmi8658::InterruptConfig"><span class="n"><span class="pre">InterruptConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865821configure_interrupt_1ERK15InterruptConfigRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure interrupt 1 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – The interrupt configuration </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the interrupt was configured successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865821configure_interrupt_2ERK15InterruptConfigRNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865821configure_interrupt_2ERK15InterruptConfigRNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865821configure_interrupt_2ERK15InterruptConfigRNSt10error_codeE"></span><span id="espp::Qmi8658::configure_interrupt_2__InterruptConfigCR.std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a3bf2455c47251dd5a94fb2198f673af8"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">configure_interrupt_2</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi865815InterruptConfigE" title="espp::Qmi8658::InterruptConfig"><span class="n"><span class="pre">InterruptConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865821configure_interrupt_2ERK15InterruptConfigRNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure interrupt 2 </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – The interrupt configuration </p></li>
<li><p><strong>ec</strong> – The error code to set if an error occurs </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the interrupt was configured successfully, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865813is_data_readyERNSt10error_codeE">
<span id="_CPPv3N4espp7Qmi865813is_data_readyERNSt10error_codeE"></span><span id="_CPPv2N4espp7Qmi865813is_data_readyERNSt10error_codeE"></span><span id="espp::Qmi8658::is_data_ready__std::error_codeR"></span><span class="target" id="classespp_1_1Qmi8658_1a99edafeceea332cc0e466926358a2018"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_data_ready</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865813is_data_readyERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read whether the data is ready </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if an error occurs </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the data is ready, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi86585probeERNSt10error_codeE">
<span id="_CPPv3NK4espp7Qmi86585probeERNSt10error_codeE"></span><span id="_CPPv2NK4espp7Qmi86585probeERNSt10error_codeE"></span><span id="espp::Qmi8658::probe__std::error_codeRC"></span><span class="target" id="classespp_1_1BasePeripheral_1a05481a009a7302fff3b43d301de6b1eb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">probe</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">error_code</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ec</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi86585probeERNSt10error_codeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Probe the peripheral </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the probe function is not set, this function will return false and set the error code to operation_not_supported </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is only available if UseAddress is true </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ec</strong> – The error code to set if there is an error </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the peripheral is found </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865811set_addressE7uint8_t">
<span id="_CPPv3N4espp7Qmi865811set_addressE7uint8_t"></span><span id="_CPPv2N4espp7Qmi865811set_addressE7uint8_t"></span><span id="espp::Qmi8658::set_address__uint8_t"></span><span class="target" id="classespp_1_1BasePeripheral_1a31fb8ec471403bf9be06428dbc46277a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_address</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865811set_addressE7uint8_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the address of the peripheral </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is only available if UseAddress is true </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>address</strong> – The address of the peripheral </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86589set_probeERK8probe_fn">
<span id="_CPPv3N4espp7Qmi86589set_probeERK8probe_fn"></span><span id="_CPPv2N4espp7Qmi86589set_probeERK8probe_fn"></span><span id="espp::Qmi8658::set_probe__probe_fnCR"></span><span class="target" id="classespp_1_1BasePeripheral_1a5b5d7753ea6ccf361e495fdc80c81f19"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_probe</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86588probe_fnE" title="espp::Qmi8658::probe_fn"><span class="n"><span class="pre">probe_fn</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">probe</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86589set_probeERK8probe_fn" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the probe function </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the probe function is usually set in the constructor. If you need to change the probe function, consider using the set_config function instead. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is only available if UseAddress is true </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probe</strong> – The probe function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86589set_writeERK8write_fn">
<span id="_CPPv3N4espp7Qmi86589set_writeERK8write_fn"></span><span id="_CPPv2N4espp7Qmi86589set_writeERK8write_fn"></span><span id="espp::Qmi8658::set_write__write_fnCR"></span><span class="target" id="classespp_1_1BasePeripheral_1ab5d5d18cd4e8893ed4f937dcfdaba5ba"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_write</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">write_fn</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">write</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86589set_writeERK8write_fn" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the write function </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the write function is usually set in the constructor. If you need to change the write function, consider using the set_config function instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>write</strong> – The write function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86588set_readERK7read_fn">
<span id="_CPPv3N4espp7Qmi86588set_readERK7read_fn"></span><span id="_CPPv2N4espp7Qmi86588set_readERK7read_fn"></span><span id="espp::Qmi8658::set_read__read_fnCR"></span><span class="target" id="classespp_1_1BasePeripheral_1aa6d8131a30233e8439628815db8b1843"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_read</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">read_fn</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">read</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi86588set_readERK7read_fn" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the read function </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the read function is usually set in the constructor. If you need to change the read function, consider using the set_config function instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>read</strong> – The read function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865817set_read_registerERK16read_register_fn">
<span id="_CPPv3N4espp7Qmi865817set_read_registerERK16read_register_fn"></span><span id="_CPPv2N4espp7Qmi865817set_read_registerERK16read_register_fn"></span><span id="espp::Qmi8658::set_read_register__read_register_fnCR"></span><span class="target" id="classespp_1_1BasePeripheral_1a72e039592417cd32bc47c77120005d3f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_read_register</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">read_register_fn</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">read_register</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865817set_read_registerERK16read_register_fn" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the read register function </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the read register function is usually set in the constructor. If you need to change the read register function, consider using the set_config function instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>read_register</strong> – The read register function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865819set_write_then_readERK18write_then_read_fn">
<span id="_CPPv3N4espp7Qmi865819set_write_then_readERK18write_then_read_fn"></span><span id="_CPPv2N4espp7Qmi865819set_write_then_readERK18write_then_read_fn"></span><span id="espp::Qmi8658::set_write_then_read__write_then_read_fnCR"></span><span class="target" id="classespp_1_1BasePeripheral_1a07b152dbfba43b5c82a498416f6887b2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_write_then_read</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">write_then_read_fn</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">write_then_read</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865819set_write_then_readERK18write_then_read_fn" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the write then read function </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the write then read function is usually set in the constructor. If you need to change the write then </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>write_then_read</strong> – The write then read function </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865834set_separate_write_then_read_delayERKNSt6chrono12millisecondsE">
<span id="_CPPv3N4espp7Qmi865834set_separate_write_then_read_delayERKNSt6chrono12millisecondsE"></span><span id="_CPPv2N4espp7Qmi865834set_separate_write_then_read_delayERKNSt6chrono12millisecondsE"></span><span id="espp::Qmi8658::set_separate_write_then_read_delay__std::chrono::millisecondsCR"></span><span class="target" id="classespp_1_1BasePeripheral_1a8c70b96c37525f90cc85ddfe4a40b82a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_separate_write_then_read_delay</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">milliseconds</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">delay</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865834set_separate_write_then_read_delayERKNSt6chrono12millisecondsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the delay between the write and read operations in write_then_read </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should rarely be used, as the delay is usually set in the constructor. If you need to change the delay, consider using the set_config function instead. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This delay is only used if the write_then_read function is not set to a custom function and the write and read functions are separate functions. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delay</strong> – The delay between the write and read operations in write_then_read </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865810set_configERK6Config">
<span id="_CPPv3N4espp7Qmi865810set_configERK6Config"></span><span id="_CPPv2N4espp7Qmi865810set_configERK6Config"></span><span id="espp::Qmi8658::set_config__ConfigCR"></span><span class="target" id="classespp_1_1BasePeripheral_1a163b98a30940711b23a7e7dce81efe0c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86586ConfigE" title="espp::Qmi8658::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865810set_configERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the configuration for the peripheral </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The configuration should normally be set in the constructor, but this function can be used to change the configuration after the peripheral has been created - for instance if the peripheral could be found on different communications buses. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – The configuration for the peripheral </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865810set_configERR6Config">
<span id="_CPPv3N4espp7Qmi865810set_configERR6Config"></span><span id="_CPPv2N4espp7Qmi865810set_configERR6Config"></span><span id="espp::Qmi8658::set_config__ConfigRR"></span><span class="target" id="classespp_1_1BasePeripheral_1a704004cfda66bf3ce5ed725b3003c32b"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_config</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N4espp7Qmi86586ConfigE" title="espp::Qmi8658::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865810set_configERR6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the configuration for the peripheral </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is thread safe </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The configuration should normally be set in the constructor, but this function can be used to change the configuration after the peripheral has been created - for instance if the peripheral could be found on different communications buses. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – The configuration for the peripheral </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi86586configEv">
<span id="_CPPv3NK4espp7Qmi86586configEv"></span><span id="_CPPv2NK4espp7Qmi86586configEv"></span><span id="espp::Qmi8658::configC"></span><span class="target" id="classespp_1_1BasePeripheral_1ae66896cf25c9dde79522f354cdb23896"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi86586ConfigE" title="espp::Qmi8658::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">config</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi86586configEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the configuration for the peripheral </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The configuration for the peripheral </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi86587addressEv">
<span id="_CPPv3NK4espp7Qmi86587addressEv"></span><span id="_CPPv2NK4espp7Qmi86587addressEv"></span><span id="espp::Qmi8658::addressC"></span><span class="target" id="classespp_1_1BasePeripheral_1add730fb3307dd52ed5f8905a576e7ecc"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">address</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi86587addressEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the address of the peripheral </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The address of the peripheral </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi86588get_nameEv">
<span id="_CPPv3NK4espp7Qmi86588get_nameEv"></span><span id="_CPPv2NK4espp7Qmi86588get_nameEv"></span><span id="espp::Qmi8658::get_nameC"></span><span class="target" id="classespp_1_1BaseComponent_1ad3813fa0c9c026e217163c4e2fdfc4a2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">get_name</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi86588get_nameEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the name of the component </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the tag of the logger </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A const reference to the name of the component </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865811set_log_tagERKNSt11string_viewE">
<span id="_CPPv3N4espp7Qmi865811set_log_tagERKNSt11string_viewE"></span><span id="_CPPv2N4espp7Qmi865811set_log_tagERKNSt11string_viewE"></span><span id="espp::Qmi8658::set_log_tag__std::string_viewCR"></span><span class="target" id="classespp_1_1BaseComponent_1af83083445936081581ffbddd93634b90"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_tag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">tag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865811set_log_tagERKNSt11string_viewE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the tag for the logger </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tag</strong> – The tag to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865813get_log_levelEv">
<span id="_CPPv3NK4espp7Qmi865813get_log_levelEv"></span><span id="_CPPv2NK4espp7Qmi865813get_log_levelEv"></span><span id="espp::Qmi8658::get_log_levelC"></span><span class="target" id="classespp_1_1BaseComponent_1a54f34a70b117486a7055e4a6f1d4d7a8"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_log_level</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865813get_log_levelEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the log level for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The verbosity level of the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865813set_log_levelEN4espp6Logger9VerbosityE">
<span id="_CPPv3N4espp7Qmi865813set_log_levelEN4espp6Logger9VerbosityE"></span><span id="_CPPv2N4espp7Qmi865813set_log_levelEN4espp6Logger9VerbosityE"></span><span id="espp::Qmi8658::set_log_level__espp::Logger::Verbosity"></span><span class="target" id="classespp_1_1BaseComponent_1a3159df4e466f93ebb6cca7e685d27243"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_level</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865813set_log_levelEN4espp6Logger9VerbosityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the log level for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> – The verbosity level to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865817set_log_verbosityEN4espp6Logger9VerbosityE">
<span id="_CPPv3N4espp7Qmi865817set_log_verbosityEN4espp6Logger9VerbosityE"></span><span id="_CPPv2N4espp7Qmi865817set_log_verbosityEN4espp6Logger9VerbosityE"></span><span id="espp::Qmi8658::set_log_verbosity__espp::Logger::Verbosity"></span><span class="target" id="classespp_1_1BaseComponent_1abb459bcd55b41471e201475fbf1a1b1f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_verbosity</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865817set_log_verbosityEN4espp6Logger9VerbosityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the log verbosity for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../ws_s3_touch.html#classespp_1_1BaseComponent_1a3159df4e466f93ebb6cca7e685d27243"><span class="std std-ref">set_log_level</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1aa8c260085619fd42e17b92c41a638741"><span class="std std-ref">Logger::set_verbosity</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience method that calls set_log_level </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>level</strong> – The verbosity level to use for the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Qmi865817get_log_verbosityEv">
<span id="_CPPv3NK4espp7Qmi865817get_log_verbosityEv"></span><span id="_CPPv2NK4espp7Qmi865817get_log_verbosityEv"></span><span id="espp::Qmi8658::get_log_verbosityC"></span><span class="target" id="classespp_1_1BaseComponent_1ac9cda1ea5d5321040ca13a827057ff79"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_log_verbosity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Qmi865817get_log_verbosityEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get the log verbosity for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../ws_s3_touch.html#classespp_1_1BaseComponent_1a54f34a70b117486a7055e4a6f1d4d7a8"><span class="std std-ref">get_log_level</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1a6ed0028b750b3e4aae21d2ecb3670c55"><span class="std std-ref">Logger::get_verbosity</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience method that calls get_log_level </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The verbosity level of the logger </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865818set_log_rate_limitENSt6chrono8durationIfEE">
<span id="_CPPv3N4espp7Qmi865818set_log_rate_limitENSt6chrono8durationIfEE"></span><span id="_CPPv2N4espp7Qmi865818set_log_rate_limitENSt6chrono8durationIfEE"></span><span id="espp::Qmi8658::set_log_rate_limit__std::chrono::duration:float:"></span><span class="target" id="classespp_1_1BaseComponent_1a8b95d7a8a87f22a989f3654a238774a0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_log_rate_limit</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rate_limit</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Qmi865818set_log_rate_limitENSt6chrono8durationIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the rate limit for the logger <div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../logger.html#classespp_1_1Logger_1a9ce0c51e1bf43e63235c6ddf3280b15d"><span class="std std-ref">Logger::set_rate_limit</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only calls to the logger that have _rate_limit suffix will be rate limited </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rate_limit</strong> – The rate limit to use for the logger </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865815DEFAULT_ADDRESSE">
<span id="_CPPv3N4espp7Qmi865815DEFAULT_ADDRESSE"></span><span id="_CPPv2N4espp7Qmi865815DEFAULT_ADDRESSE"></span><span id="espp::Qmi8658::DEFAULT_ADDRESS__uint8_t"></span><span class="target" id="classespp_1_1Qmi8658_1a4381e7592192e5de7856ebb0a50374d9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DEFAULT_ADDRESS</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x6B</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865815DEFAULT_ADDRESSE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default I2C address of the QMI8658 with AD0 high. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi865823DEFAULT_ADDRESS_AD0_LOWE">
<span id="_CPPv3N4espp7Qmi865823DEFAULT_ADDRESS_AD0_LOWE"></span><span id="_CPPv2N4espp7Qmi865823DEFAULT_ADDRESS_AD0_LOWE"></span><span id="espp::Qmi8658::DEFAULT_ADDRESS_AD0_LOW__uint8_t"></span><span class="target" id="classespp_1_1Qmi8658_1ada22db37e3da6a70038ff2e6316fc443"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DEFAULT_ADDRESS_AD0_LOW</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x6A</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi865823DEFAULT_ADDRESS_AD0_LOWE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default I2C address of the QMI8658 with AD0 low. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586ConfigE">
<span id="_CPPv3N4espp7Qmi86586ConfigE"></span><span id="_CPPv2N4espp7Qmi86586ConfigE"></span><span id="espp::Qmi8658::Config"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configuration struct for the QMI8658. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config14device_addressE">
<span id="_CPPv3N4espp7Qmi86586Config14device_addressE"></span><span id="_CPPv2N4espp7Qmi86586Config14device_addressE"></span><span id="espp::Qmi8658::Config::device_address__uint8_t"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1ade8327930653f27e9fa1b0f77dd3fdce"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">device_address</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Qmi865815DEFAULT_ADDRESSE" title="espp::Qmi8658::DEFAULT_ADDRESS"><span class="n"><span class="pre">DEFAULT_ADDRESS</span></span></a><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config14device_addressE" title="Permalink to this definition"></a><br /></dt>
<dd><p>I2C address of the QMI8658. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config5writeE">
<span id="_CPPv3N4espp7Qmi86586Config5writeE"></span><span id="_CPPv2N4espp7Qmi86586Config5writeE"></span><span id="espp::Qmi8658::Config::write__BasePeripheral:uint8_t.Interface-==-qmi8658::Interface::I2C:::write_fn"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a500ad0a35afd34ae9d00eb8fdf03e864"></span><a class="reference internal" href="../base_peripheral.html#_CPPv4I_NSt8integralE_b_b_bEN4espp14BasePeripheralE" title="espp::BasePeripheral"><span class="n"><span class="pre">BasePeripheral</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_N7qmi86589InterfaceEEN4espp7Qmi8658E" title="espp::Qmi8658::Interface"><span class="n"><span class="pre">Interface</span></span></a><span class="w"> </span><span class="o"><span class="pre">==</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">I2C</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">write_fn</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config5writeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Write function. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config4readE">
<span id="_CPPv3N4espp7Qmi86586Config4readE"></span><span id="_CPPv2N4espp7Qmi86586Config4readE"></span><span id="espp::Qmi8658::Config::read__BasePeripheral:uint8_t.Interface-==-qmi8658::Interface::I2C:::read_fn"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a555e06f7ad02f5185f1c95c26fa216ea"></span><a class="reference internal" href="../base_peripheral.html#_CPPv4I_NSt8integralE_b_b_bEN4espp14BasePeripheralE" title="espp::BasePeripheral"><span class="n"><span class="pre">BasePeripheral</span></span></a><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_N7qmi86589InterfaceEEN4espp7Qmi8658E" title="espp::Qmi8658::Interface"><span class="n"><span class="pre">Interface</span></span></a><span class="w"> </span><span class="o"><span class="pre">==</span></span><span class="w"> </span><span class="n"><span class="pre">qmi8658</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Interface</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">I2C</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">read_fn</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config4readE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Read function. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config10imu_configE">
<span id="_CPPv3N4espp7Qmi86586Config10imu_configE"></span><span id="_CPPv2N4espp7Qmi86586Config10imu_configE"></span><span id="espp::Qmi8658::Config::imu_config__ImuConfig"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a6d23ac61116bf6c4e46bf7b57d57aef5"></span><a class="reference internal" href="#_CPPv4N4espp7Qmi86589ImuConfigE" title="espp::Qmi8658::ImuConfig"><span class="n"><span class="pre">ImuConfig</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">imu_config</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config10imu_configE" title="Permalink to this definition"></a><br /></dt>
<dd><p>IMU configuration. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config18orientation_filterE">
<span id="_CPPv3N4espp7Qmi86586Config18orientation_filterE"></span><span id="_CPPv2N4espp7Qmi86586Config18orientation_filterE"></span><span id="espp::Qmi8658::Config::orientation_filter__filter_fn"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a9576f466e6f5b68a57561dd7a90ed94e"></span><a class="reference internal" href="#_CPPv4N4espp7Qmi86589filter_fnE" title="espp::Qmi8658::filter_fn"><span class="n"><span class="pre">filter_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">orientation_filter</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config18orientation_filterE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Filter function for orientation. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config9auto_initE">
<span id="_CPPv3N4espp7Qmi86586Config9auto_initE"></span><span id="_CPPv2N4espp7Qmi86586Config9auto_initE"></span><span id="espp::Qmi8658::Config::auto_init__b"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a76b84044a25c935c02aec70e76da67ed"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">auto_init</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">true</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config9auto_initE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Automatically initialize the QMI8658. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Qmi86586Config9log_levelE">
<span id="_CPPv3N4espp7Qmi86586Config9log_levelE"></span><span id="_CPPv2N4espp7Qmi86586Config9log_levelE"></span><span id="espp::Qmi8658::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1Qmi8658_1_1Config_1a99509c1975c889e7a967ccf72597aafc"></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../logger.html#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7Qmi86586Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Log level. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id1">
<h3>Header File<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/32e8215e/components/qmi8658/include/qmi8658_detail.hpp">components/qmi8658/include/qmi8658_detail.hpp</a></p></li>
</ul>
</section>
<section id="unions">
<h3>Unions<a class="headerlink" href="#unions" title="Permalink to this heading"></a></h3>
<dl class="cpp union">
<dt class="sig sig-object cpp">
<span class="target" id="unionespp_1_1qmi8658_1_1Value_8____unnamed121____"></span><span class="sig-name descname"><span class="pre">espp::qmi8658::Value.__unnamed121__</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="unionespp_1_1qmi8658_1_1Value_8____unnamed121_____1a865bedd2fba8fe20b828ed07600c64a4"></span><span class="sig-name descname"><span class="pre">struct</span> <span class="pre">espp::qmi8658::Value</span></span></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="unionespp_1_1qmi8658_1_1Value_8____unnamed121_____1a3cfac1c57625f8144e5b914bd8fb117c"></span><span class="sig-name descname"><span class="pre">struct</span> <span class="pre">espp::qmi8658::Value</span></span></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19PhonyNameDueToError6valuesE">
<span id="_CPPv3N19PhonyNameDueToError6valuesE"></span><span id="_CPPv2N19PhonyNameDueToError6valuesE"></span><span id="PhonyNameDueToError::values__floatA"></span><span class="target" id="unionespp_1_1qmi8658_1_1Value_8____unnamed121_____1ade0b2f70455306cc4e316cbfe3aca1cf"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">values</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="lsm6dso_example.html" class="btn btn-neutral float-left" title="LSM6DSO Example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="qmi8658_example.html" class="btn btn-neutral float-right" title="QMI8658 Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 - 2026, William Emfinger.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>